<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฑุงูููุง ูพุงุฏูโุณุงุฒ ุฏุชุงุชุจู ุณุฑูุฑ-ุณุงุฏ | ูฺู ุนุงุฑู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap');
        body { font-family: 'Vazirmatn', sans-serif; background-color: #f3f4f6; }
        .step-card { transition: all 0.3s ease; }
        .step-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        code { direction: ltr; text-align: left; }
    </style>
</head>
<body class="pb-10">

    <!-- Header -->
    <header class="bg-indigo-700 text-white p-6 shadow-lg">
        <div class="container mx-auto max-w-4xl">
            <h1 class="text-3xl font-bold mb-2">๐ ูพุฑูฺู ูุฏุฑุช ตฐฐ,ฐฐฐ ุฑฺฉูุฑุฏ ูพูุงูฺฉุงุฑ</h1>
            <p class="opacity-90">ุฑุงูููุง ูุฏูโุจูโูุฏู ูพุงุฏูโุณุงุฒ Server-side Processing ุจุง PHP ุจุฑุง ุนุงุฑู ุนุฒุฒ</p>
        </div>
    </header>

    <main class="container mx-auto max-w-4xl mt-8 px-4">

        <!-- Intro Box -->
        <div class="bg-white rounded-lg shadow p-6 mb-6 border-r-4 border-yellow-500">
            <h3 class="text-xl font-bold text-gray-800 mb-2">๐ก ุงุณุชุฑุงุชฺ ฺฉู</h3>
            <p class="text-gray-600 leading-7">
                ุนุงุฑู ุฌุงูุ ุจุฑุง ุงูฺฉู ูุฑูุฑฺฏุฑ ุฒุฑ ุจุงุฑ ตฐฐ ูุฒุงุฑ ุฑฺฉูุฑุฏ ููฺฏ ูฺฉููุ ูุง ุงุฒ ุชฺฉูฺฉ <strong>"ูพุฑุฏุงุฒุด ุณูุช ุณุฑูุฑ"</strong> ุงุณุชูุงุฏู ูโฺฉูู. ุนู ุฏุชุงุจุณ (MySQL) ููุท ฑฐ ุชุง ุฑฺฉูุฑุฏ ฺฉู ฺฉุงุฑุจุฑ ูุงุฒ ุฏุงุฑู ุฑู ุจู PHP ูุฏู ู PHP ุงูู ุฑู ุจู ูุฑูุฑฺฏุฑ ููุฑุณุชู. ุงูุทูุฑ ุณุฑุนุช ุณุงุช ููุดู ุฒุฑ ฑ ุซุงูู ููููู.
            </p>
        </div>

        <!-- Step 1: Database -->
        <div class="step-card bg-white rounded-lg shadow p-6 mb-6">
            <div class="flex items-center mb-4">
                <span class="bg-indigo-100 text-indigo-700 font-bold px-3 py-1 rounded-full text-sm ml-3">ูุฑุญูู ฑ</span>
                <h2 class="text-2xl font-bold text-gray-800">ุขูุงุฏูโุณุงุฒ ุฏุชุงุจุณ</h2>
            </div>
            <p class="text-gray-600 mb-4">ูุงู ุงฺฉุณู ุฑู CSV ฺฉู ู ุชู ุฏุชุงุจุณ (phpMyAdmin) ุงููพูุฑุช ฺฉู. ุญุชูุงู ฺฉ ุณุชูู `id` ุจู ุนููุงู Primary Key ุจุณุงุฒ.</p>
            
            <div class="bg-red-50 p-4 rounded-md border border-red-200 mb-4">
                <p class="text-red-700 font-bold text-sm">โ๏ธ ูฺฉุชู ุญุงุช (ุงูุฏฺฉุณ ฺฏุฐุงุฑ):</p>
                <p class="text-red-600 text-sm mt-1">ุงฺฏุฑ ุฑู ุณุชููโูุง ฺฉู ุฌุณุชุฌู ูุดู (ูุซู ูุงู ูพูุงูฺฉุงุฑ) ุงูุฏฺฉุณ ูุฐุงุฑุ ุณุฑุนุช ุฌุณุชุฌู ุฎู ูพุงู ูุงุฏ.</p>
            </div>

            <pre><code class="language-sql">-- ูุซุงู: ุจุนุฏ ุงุฒ ุณุงุฎุช ุฌุฏููุ ุงู ุฏุณุชูุฑ ุฑู ุจุฑุง ุณุฑุนุช ุจุงูุง ุงุฌุฑุง ฺฉู
ALTER TABLE `transactions` ADD INDEX `idx_contractor` (`contractor_name`);
ALTER TABLE `transactions` ADD INDEX `idx_date` (`transaction_date`);</code></pre>
        </div>

        <!-- Step 2: SSP Class -->
        <div class="step-card bg-white rounded-lg shadow p-6 mb-6">
            <div class="flex items-center mb-4">
                <span class="bg-indigo-100 text-indigo-700 font-bold px-3 py-1 rounded-full text-sm ml-3">ูุฑุญูู ฒ</span>
                <h2 class="text-2xl font-bold text-gray-800">ฺฉุชุงุจุฎุงูู ุฌุงุฏู PHP</h2>
            </div>
            <p class="text-gray-600 mb-4">
                ูุงู `ssp.class.php` ููุจ ุชูพูุฏู ุงู ูพุฑูฺูโุณุช. ุงู ฺฉูุงุณ ุชูุงู ฺฉุงุฑูุง ุณุฎุช SQL ุฑู ุจุฑุงุช ุงูุฌุงู ูุฏู.
            </p>
            <a href="https://github.com/DataTables/DataTablesSrc/blob/master/examples/server_side/scripts/ssp.class.php" target="_blank" class="inline-flex items-center bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700 transition">
                ๐ฅ ุฏุงูููุฏ ูุงู ssp.class.php
            </a>
            <p class="text-sm text-gray-500 mt-2">ุงู ูุงู ุฑู ุฏุงูููุฏ ฺฉู ู ฺฉูุงุฑ ูุงูโูุง ูพุฑูฺุช ุจุฐุงุฑ.</p>
        </div>

        <!-- Step 3: Server Logic -->
        <div class="step-card bg-white rounded-lg shadow p-6 mb-6">
            <div class="flex items-center mb-4">
                <span class="bg-indigo-100 text-indigo-700 font-bold px-3 py-1 rounded-full text-sm ml-3">ูุฑุญูู ณ</span>
                <h2 class="text-2xl font-bold text-gray-800">ุณุงุฎุช ูุงู ุฑุงุจุท (Backend)</h2>
            </div>
            <p class="text-gray-600 mb-4">ฺฉ ูุงู ุจู ูุงู <code>server_processing.php</code> ุจุณุงุฒ ู ฺฉุฏ ุฒุฑ ุฑู ุชูุด ูุฑุงุฑ ุจุฏู. ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฑู ูุฑุงุด ฺฉู.</p>
            
            <pre><code class="language-php"><?php
// ุชูุธูุงุช ุงุชุตุงู ุจู ุฏุชุงุจุณ
$sql_details = array(
    'user' => 'root',
    'pass' => '',
    'db'   => 'my_project_db',
    'host' => 'localhost'
);

$table = 'transactions'; // ุงุณู ุฌุฏูู
$primaryKey = 'id'; // ฺฉูุฏ ุงุตู

// ุชุนุฑู ุณุชููโูุง ู ูุฑูุชโุฏู
$columns = array(
    array( 'db' => 'contractor_name', 'dt' => 0 ),
    array( 'db' => 'description',  'dt' => 1 ),
    array(
        'db'        => 'amount',
        'dt'        => 2,
        'formatter' => function( $d, $row ) {
            return number_format($d) . ' ุชููุงู'; // ุณู ุฑูู ุฌุฏุง ฺฉุฑุฏู
        }
    ),
    array(
        'db'        => 'created_at',
        'dt'        => 3,
        'formatter' => function( $d, $row ) {
            return $d; // ุงูุฌุง ูโุชูู ุชุงุจุน ุชุจุฏู ุชุงุฑุฎ ุดูุณ ุจุฐุงุฑ
        }
    )
);

require( 'ssp.class.php' );

echo json_encode(
    SSP::simple( $_GET, $sql_details, $table, $primaryKey, $columns )
);
?></code></pre>
        </div>

        <!-- Step 4: Frontend -->
        <div class="step-card bg-white rounded-lg shadow p-6 mb-6">
            <div class="flex items-center mb-4">
                <span class="bg-indigo-100 text-indigo-700 font-bold px-3 py-1 rounded-full text-sm ml-3">ูุฑุญูู ด</span>
                <h2 class="text-2xl font-bold text-gray-800">ุธุงูุฑ ุณุงุช (Frontend)</h2>
            </div>
            <p class="text-gray-600 mb-4">ุงู ฺฉุฏ ุฑู ุชู ูุงู <code>index.html</code> ุง <code>index.php</code> ุจุฐุงุฑ. ุฏุชุงุชุจูุฒ ุฎูุฏุด ููู ฺุฒ ุฑู ูุณุงุฒู.</p>
            
            <pre><code class="language-html"><!DOCTYPE html>
<html>
<head>
    <title>ูพูู ูุฏุฑุช ูุฑุงุฑุฏุงุฏูุง</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
    <style>body { direction: rtl; font-family: tahoma; }</style>
</head>
<body>
    
    <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>ูุงู ูพูุงูฺฉุงุฑ</th>
                <th>ุดุฑุญ</th>
                <th>ูุจูุบ</th>
                <th>ุชุงุฑุฎ</th>
            </tr>
        </thead>
    </table>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
    
    <script>
    $(document).ready(function() {
        $('#example').DataTable({
            "processing": true,
            "serverSide": true,
            "ajax": "server_processing.php", // ุงุชุตุงู ุจู ูุงู PHP ูุฑุญูู ูุจู
            "language": {
                "url": "//cdn.datatables.net/plug-ins/1.11.5/i18n/fa.json"
            }
        });
    });
    </script>
</body>
</html></code></pre>
        </div>

    </main>

    <footer class="text-center text-gray-500 py-6 text-sm">
        ุชูู ุดุฏู ุจุฑุง ุนุงุฑู | ูพุฑูฺู ุณุณุชู ูุฏุฑุช ูพูุงูฺฉุงุฑ
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <!-- Add this dependency for PHP support -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup-templating.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-php.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
</body>
</html></code>eof
ูู ุชุบุฑุงุช ุงุฌุงุฏ ฺฉุฑุฏู. [ฺฉุฏ HTML ุฑุง ุจุง ุงุถุงูู ฺฉุฑุฏู ุงุณฺฉุฑูพุช `prism-markup-templating.min.js` ฺฉู ูพุดโูุงุฒ ููุงุด ฺฉุฏูุง PHP ุฏุฑ Prism ุงุณุชุ ุจูโุฑูุฒุฑุณุงู ฺฉุฑุฏู ุชุง ุฎุทุง ฺฉูุณูู ุจุฑุทุฑู ุดูุฏ.]
